<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Perfil - TokyoNoodles</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{--color-principal:#B31B1B;--color-secundario:#2c3e50;--color-acento:#FFD700;--color-fondo:#f9f9f9}
    body{font-family:'Roboto',sans-serif;margin:0;padding:0;background:var(--color-fondo);color:var(--color-secundario);line-height:1.6}
    header{background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.1);padding:10px 40px;display:flex;justify-content:space-between;align-items:center}
    .logo a{color:var(--color-principal);font-size:2.2em;font-weight:700}
    nav ul{list-style:none;display:flex;gap:16px;padding:0;margin:0}
    .user-actions{display:flex;gap:12px;align-items:center}
    .profile-container{max-width:1200px;margin:40px auto;padding:0 20px;display:flex;gap:30px}
    .sidebar{width:250px;background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.05);flex-shrink:0}
    .sidebar h3{color:var(--color-principal);border-bottom:2px solid #eee;padding-bottom:10px;margin-top:0;margin-bottom:20px}
    .sidebar ul{list-style:none;padding:0}
    .sidebar ul li a{display:block;padding:10px 15px;color:var(--color-secundario);border-radius:5px;margin-bottom:5px;font-weight:500}
    .sidebar ul li a:hover,.sidebar ul li a.active-link{background:#ffeaea;color:var(--color-principal);font-weight:700}
    .profile-content{flex-grow:1;background:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.05)}
    .profile-content h1{color:var(--color-secundario);border-bottom:3px solid var(--color-acento);padding-bottom:10px;margin-top:0;margin-bottom:30px}
    .data-group{margin-bottom:20px;padding:15px;border:1px solid #eee;border-radius:5px;display:flex;justify-content:space-between;align-items:center}
    .data-group strong{display:block;font-size:.9em;color:#888;margin-bottom:3px}
    .data-group span{font-size:1.1em;color:var(--color-secundario)}
  </style>
</head>
<body>
  <header>
    <div class="logo"><a href="index.html">TokyoNoodles</a></div>
    <nav>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="menu.html">Men√∫</a></li>
        <li><a href="productos.html">Productos</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </nav>
        <div class="user-actions">
        <div id="authArea" style="display:inline-block;"></div>
        <a href="carrito.html">üõí Carrito (<span id="cart-count">0</span>)</a>
        </div>
  </header>

  <main class="profile-container">
    <aside class="sidebar">
      <h3>Mi Cuenta</h3>
      <ul>
        <li><a href="perfil.html" class="active-link">‚≠ê Informaci√≥n Personal</a></li>
        <li><a href="pedidos.html">üì¶ Mis Pedidos</a></li>
        <li><a href="direcciones.html">üìç Direcciones de Env√≠o</a></li>
        <li><a href="metodos-pago.html">üí≥ M√©todos de Pago</a></li>
        <li><a href="ajustes.html">‚öôÔ∏è Ajustes de Cuenta</a></li>
      </ul>
    </aside>

    <section class="profile-content">
      <h1 id="helloTitle">Bienvenido</h1>
      <div class="data-group">
        <div><strong>Nombre Completo</strong><span id="fullName">‚Äî</span></div>
      </div>
      <div class="data-group">
        <div><strong>Correo Electr√≥nico</strong><span id="emailAddr">‚Äî</span></div>
      </div>
      <div class="data-group">
        <div><strong>Rol</strong><span id="roleSpan">‚Äî</span></div>
      </div>
    </section>
  </main>

  <script src="js/auth.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      await requireLogin();
      initAuthUI();

      const me = JSON.parse(localStorage.getItem("user") || "{}");
      document.getElementById("helloTitle").textContent = `Bienvenido, ${me.name || ""}`;
      document.getElementById("fullName").textContent = me.name || "‚Äî";
      document.getElementById("emailAddr").textContent = me.email || "‚Äî";
      document.getElementById("roleSpan").textContent = me.role || "‚Äî";
    });
  </script>
</body>
</html>
