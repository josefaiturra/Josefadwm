<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <title>Gesti√≥n de Usuarios - TokyoNoodles</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{--color-principal:#B31B1B;--color-secundario:#2c3e50;--color-acento:#FFD700;--color-fondo:#f4f4f4}
    body{font-family:'Roboto',sans-serif;margin:0;background:var(--color-fondo)}

    /* NAVBAR global */
    header{background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1);padding:10px 25px}
    .nav-inner{max-width:1200px;margin:auto;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:16px}
    .logo a{color:var(--color-principal);font-size:2rem;font-weight:700;letter-spacing:-1px;text-decoration:none}
    nav ul{list-style:none;padding:0;margin:0;display:flex;gap:15px;flex-wrap:wrap}
    nav a{color:var(--color-secundario);font-weight:500;padding:6px 10px;text-decoration:none}
    nav a:hover{color:var(--color-principal)}
    .user-actions a{color:var(--color-secundario);margin-left:12px;font-size:.9rem;text-decoration:none}

    /* HEADER Admin */
    .admin-header{background:var(--color-secundario);color:#fff;padding:20px 40px;display:flex;justify-content:space-between;align-items:center}
    .logout a{background:var(--color-principal);padding:8px 15px;color:#fff;border-radius:5px;text-decoration:none}

    /* LAYOUT */
    .admin-container{display:flex;min-height:calc(100vh - 70px)}
    .sidebar{width:250px;background:#34495e;padding:20px;color:#fff}
    .sidebar h3{color:var(--color-acento)}
    .sidebar ul{list-style:none;padding:0;margin:0}
    .sidebar ul li a{display:block;padding:12px 15px;color:#fff;margin-bottom:5px;border-radius:5px;text-decoration:none}
    .sidebar ul li a:hover,.sidebar ul li a.active{background:var(--color-principal)}
    .main-content{flex-grow:1;padding:40px}
    h1{color:var(--color-principal);margin-top:0}

    /* BAR */
    .actions-bar{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:14px}
    .actions-bar input,.actions-bar select{padding:10px;border:1px solid #ccc;border-radius:6px;font:inherit}
    .actions-bar .btn{padding:10px 15px;border:0;border-radius:6px;cursor:pointer}
    .btn-primary{background:var(--color-principal);color:#fff;font-weight:700}
    .btn-primary:hover{background:#8a1515}

    /* TABLE */
    .table{background:#fff;padding:20px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.05)}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:12px;border-bottom:1px solid #ddd;text-align:left}
    th{background:#eee}
    .btn-edit{background:#3498db;color:#fff;border:0;padding:8px 12px;border-radius:6px;margin-right:6px;cursor:pointer}
    .btn-edit:hover{background:#217dbb}
    .btn-delete{background:#e63946;color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer}
    .btn-delete:hover{background:#c32734}

    /* PAGINATION */
    .pagination{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:12px}
    .pagination button{padding:6px 10px;border:1px solid #ccc;background:#fff;border-radius:4px;cursor:pointer}
    .pagination button[disabled]{opacity:.5;cursor:not-allowed}

    /* MODAL */
    .modal-bg{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;justify-content:center;align-items:center;z-index:1000}
    .modal-box{background:#fff;padding:24px;width:420px;max-width:92vw;border-radius:10px;box-shadow:0 0 20px rgba(0,0,0,.2)}
    .modal-box h2{margin:0 0 15px;color:var(--color-secundario)}
    .modal-box label{display:block;font-size:.9em;color:#516270;margin:8px 0 6px}
    .modal-box input,.modal-box select{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;font:inherit}
    .modal-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:14px}
    .btn-cancel{background:#888;color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer}
  </style>
</head>
<body>

  <!-- ‚úÖ NAVBAR global -->
  <header>
    <div class="nav-inner">
      <div class="logo"><a href="index.html">TokyoNoodles</a></div>
      <nav>
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="menu.html">Men√∫</a></li>
          <li><a href="productos.html">Productos</a></li>
          <li><a href="contacto.html">Contacto</a></li>
        </ul>
      </nav>
      <div class="user-actions">
        <div id="authArea"></div>
        <a href="carrito.html">üõí Carrito</a>
      </div>
    </div>
  </header>

  <!-- HEADER ADMIN -->
  <div class="admin-header">
    <h1>Panel de Administraci√≥n - TokyoNoodles</h1>
  </div>

  <div class="admin-container">
    <aside class="sidebar">
      <h3>Dashboard</h3>
      <ul>
        <li><a href="admin.html">üìä Visi√≥n General</a></li>
        <li><a href="productos_admin.html">üçú Gesti√≥n de Productos</a></li>
        <li><a href="usuarios_admin.html" class="active">üë§ Gesti√≥n de Usuarios</a></li>
      </ul>
    </aside>

    <main class="main-content">
      <h1>üë§ Gesti√≥n de Usuarios</h1>

      <div class="actions-bar">
        <input type="text" id="q" placeholder="Buscar por nombre o email‚Ä¶">
        <select id="role">
          <option value="">Todos los roles</option>
          <option value="user">Usuario</option>
          <option value="admin">Admin</option>
        </select>
        <button class="btn btn-primary" id="btnSearch">Buscar</button>
        <button class="btn btn-primary" id="btnNew">+ Nuevo Usuario</button>
      </div>

      <div class="table">
        <table aria-label="Tabla de usuarios">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Email</th>
              <th>Rol</th>
              <th style="width:180px">Acciones</th>
            </tr>
          </thead>
          <tbody id="usersTable">
            <!-- render JS -->
          </tbody>
        </table>

        <div class="pagination">
          <button id="prevPage">Anterior</button>
          <span id="pageInfo"></span>
          <button id="nextPage">Siguiente</button>
        </div>
      </div>
    </main>
  </div>

  <!-- MODAL CREAR/EDITAR -->
  <div class="modal-bg" id="modal">
    <div class="modal-box">
      <h2 id="modalTitle">Nuevo Usuario</h2>

      <input type="hidden" id="uId"/>

      <label for="uName">Nombre</label>
      <input type="text" id="uName" placeholder="Nombre completo">

      <label for="uEmail">Email</label>
      <input type="email" id="uEmail" placeholder="correo@ejemplo.com">

      <label for="uRole">Rol</label>
      <select id="uRole">
        <option value="user">Usuario</option>
        <option value="admin">Admin</option>
      </select>

      <label for="uPassword">Contrase√±a <small>(dejar vac√≠o para no cambiar)</small></label>
      <input type="password" id="uPassword" placeholder="********">

      <div class="modal-actions">
        <button class="btn-cancel" id="btnCancel">Cancelar</button>
        <button class="btn btn-primary" id="btnSave">Guardar</button>
      </div>
    </div>
  </div>

  <script src="js/auth.js" defer></script>
  <script src="js/admin_users.js" defer></script>
</body>
</html>
